## (П]|(РС)|(РП) Оценочная функция

Допустим, отслеживаются перемещения человека, гуляющего вдоль камеры. В каждом кадре происходит фиксация местоположения этого человека. Это может быть сделано любым, описанным ранее, способом, но в каждом отдельном случае ищется оценка положения человека в каждом кадре. Скорее всего, эта оценка будет не совсем точной. Причин для этого множество. Это может быть связано и с не точностью датчика, и от использования приближений на ранних этапах обработки, и с вопросами, связанные с окклюзиями или тенями, или с возможной сменой формы из-за того, что человек во время перемещений размахивает руками и ногами. Независимо от источника, ожидается, что изменения будут меняться несколько беспорядочно, а о "фактических" значениях может идти речь лишь при наличии идеализированного датчика. Можно представить все эти неточности как простое добавление шума к процессу отслеживания.

Необходимо иметь возможность оценки передвижений  этого человека за счет максимально возможного использования сделанных измерений. Таким образом, совокупный эффект от всех измерений позволяет обнаруживать часть перемещений человека, не зависящих от шума. Ключевым дополнительным ингредиентом является *модель* перемещений человека. Например, можно смоделировать перемещение человека со следующим утверждением: "Человек попадает в кадр с одной стороны и перемещается вдоль кадра с постоянной скоростью". За счет такой модели можно определить не только местоположение человека, но и какие параметры модели поддерживают данное наблюдение.

Данная задача разбивается на два этапа (рисунок 10-18). Первый этап, как правило, именуется этапом предсказаний, в котором используется информация, полученная в прошлом, для улучшения модели с местоположением человека (или предмета). Второй этап, этап коррекции, производит измерение с последующим сопоставлением с предсказанными ранее измерениями.

![Рисунок 10-18 не найден](Images/Pic_10_18.jpg)

Рисунок 10-18. Двухэтапный цикл оценки: предсказание на основе предыдущих данных с последующим применением новых измерений

Техника выполнения задачи двухэтапной оценки сводится в основном к оценке направления и наиболее популярный метод делает это за счет использования *фильтра Kalman*. В дополнение к этому методу, ещё один наиболее важный метод, *алгоритм condensation*, реализует широкий класс методов, известные как фильтры частиц. Основное различие между фильтром Kalman и алгоритмом condensation сводится к описанию плотности вероятного состояния. Данное различие будет более подробно рассмотрено в последующих разделах.

### Фильтр Kalman

