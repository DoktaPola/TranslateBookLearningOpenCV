## (П]|(РС)|(РП) Аффиные и перспективные преобразования

Двумя наиболее используемых преобразования являются аффиные и перспективные преобразования. Впервые об этом было сказано в главе 6. В зависимости от реализации соответствующих функций OpenCV оказывается влияние на список точек или целое изображение, отображая точки, расположенные в одном месте, в другое место, при этом зачастую выполняя субпиксельную интерполяцию по пути. В результате аффиных преобразований из прямоугольников можно получить параллелограммы любой формы, а в результате перспективных преобразований (более общих) из прямоугольника можно получить трапецию любой формы.

*Перспективные преобразования* тесно связаны с *перспективным проецированием*. При перспективном проецировании карта точек трехмерного материального мира проецируется на двумерную плоскость изображения вдоль набора проекционных линий, сходящихся в так называемом центре проецирования. Перспективные преобразования, которые являются разновидностью *гомографии*, связывают два различных изображения, которые являются альтернативными проекциями одного и того же трехмерного объекта на двух различных *проекционных плоскостях* (и, таким образом, невырожденные формы, такие как материальная плоскость пересекающихся трехмерных объектов, как правило, имеют два различных центра проекции).

Эти функции проекционно связанных преобразований подробно обсуждались в главе 6; для удобства все полученные знания обобщены в таблице 12-1.

Таблица 12-1. Функции аффиных и перспективных преобразований

| Функция | Использование |
| -- | -- |
| cvTransform() | Аффиные преобразования списка точек |
| cvWarpAffine() | Аффиные преобразования целого изображения |
| cvGetAffineTransform() | Заполнение параметров матрицы аффинных преобразований |
| cv2DRotationMatrix() | Заполнение параметров матрицы аффинных преобразований |
| cvGetQuadrangleSubPix() | Низкозатратные аффинные преобразования целого изображения |
| cvPerspectiveTransform() | Перспективные преобразования списка точек |
| cvWarpPerspective() | Перспективные преобразования целого изображения |
| cvGetPerspectiveTransform() | Заполнение параметров матрицы перспективных преобразований |

### Пример преобразования с высоты птичьего полета

Общей задачей навигации в робототехники, обычно используемая для планиравания целей, является преобразование сцены взгляда камеры на робота в представление с "высоты птичьего полета". На рисунке 12-1 представлено данное преобразование, которое в последствии может быть покрыто альтернативным представлением мира, созданного при помощи сканирования лазерным дальнометром. Далее при использовании ранее полученных знаний будет более детально показано как использовать откалиброванную камеру для вычисления данного представления ("с высоты птичьего полёта").

![Рисунок 12-1 не найден](Images/Pic_12_1.jpg)

Рисунок 12-1. Представление с высоты птичьего полета: автомобильная камера смотрит на дорогу, где лазерный дальнометр определяет область "дороги" в пеердней части автомобиля и выделяет участок прямоугольником (верхняя часть изображения); алгоритмы компьютерного зрения сегментируют данный участок (центральная часть изображения); сегментируемые участки дороги преобразуются в представления с высоты птичьего полёта и объединяется с представлением с высоты птичьего полета карты лазера (нижняя часть изображения)

